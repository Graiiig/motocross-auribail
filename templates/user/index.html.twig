{% extends 'base.html.twig' %}

{% block title %}Mon compte MC Auribail
{% endblock %}

{% block body %}

	<div class="container">
		<div class="row justify-content-center">
			<div class="card text-center mx-5">
				<div class="card-header">
					Mes informations personnelles :

				</div>
				<div class="card-body">
					<h5 class="card-title">{{app.user.lastName ~ " " ~ app.user.firstName}}</h5>
					<p class="card-text">{{ app.user.email }}</p>
					<p class="card-text">{{ app.user.birthDate | date ('d/m/Y') }}</p>

				</div>
				<div class="card-footer text-muted">
					{% if is_granted('ROLE_MEMBER') %}
						Adhérent du club
					{% elseif is_granted('ROLE_NON_MEMBER')%}
						Non adhérent du club
					{% endif %}
				</div>
			</div>
            {# TODO : Ajouter "mot de passe oublié" #}
			<div class="col-5">


                    {% for session in sessions %}


                        {% set difference = date("now").diff(date(session.date)) %}

                        {% if difference.invert == 1 %}
                        <ul class="list-group">
                            <li class="list-group-item active">Les courses auxquelles j'ai participé : </li>
                            <li class="list-group-item">
                                {{session.title | lower}}
                                le
                                {{session.date | date ('d/m/Y')}}</li>
                        </ul>
                        {% else %}
                        <ul class="list-group mt-5">
                            <li class="list-group-item active">Mes prochaines courses : </li>
                            <li class="list-group-item">
                                {{session.title | lower}}
                                le
                                {{session.date | date ('d/m/Y')}}</li>
                        </ul>
                        {% endif %}

                    {% endfor %}
                
			</div>
		</div>
	</div>

{% endblock %}
